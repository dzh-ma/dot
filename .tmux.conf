set-option -sa terminal-overrides ",xterm*:TC"
set-option -g destroy-unattached off
set -g terminal-overrides "xterm*:smcup@:rmcup@"
set-option -g default-shell "/usr/bin/fish"
set-option -g status-position bottom # top or bottom
set -g allow-passthrough on
set -g visual-activity off
set -g detach-on-destroy off
set -g set-clipboard on # use system clipboard
set -g renumber-windows on # renumber all windows when any window is closed
setw -g mode-keys vi      # vim-like navigation when inside copy-mode
unbind C-b
set -g prefix C-f
bind C-f send-prefix
# window navigation
bind -n M-H previous-window
bind -n M-L next-window
# vim-like pane navigation
bind h select-pane -L # move left
bind j select-pane -D # move down
bind k select-pane -U # move up
bind l select-pane -R # move right
bind a copy-mode    # enter copy mode with prefix-a
set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-sensible"
set -g @plugin "tmux-plugins/tmux-yank"
set -g @plugin "tmux-plugins/tmux-resurrect"
set -g @plugin "Morantron/tmux-fingers"
# Add battery plugin
set -g @plugin 'tmux-plugins/tmux-battery'

# Custom color definitions matching your cyberdream Ghostty config
thm_bg="#ffffff"        # Background color (white)
thm_fg="#16181a"        # Foreground color (black/dark gray)
thm_cyan="#008c99"      # Palette 6
thm_black="#16181a"     # Palette 7 / Foreground (using the dark foreground for 'black')
thm_gray="#acacac"      # Palette 8
thm_magenta="#a018ff"   # Palette 5
thm_pink="#a018ff"      # Using Magenta again as no distinct Pink
thm_red="#d11500"       # Palette 1
thm_green="#008b0c"     # Palette 2
thm_yellow="#997b00"    # Palette 3
thm_blue="#0057d1"      # Palette 4
thm_orange="#997b00"    # Using Yellow as no distinct Orange
thm_white="#ffffff"     # Palette 0 / Background (using the light background for 'white')

# Status bar configuration
set -g status-position top
set -g status-interval 1
set -g status-style "bg=$thm_bg,fg=$thm_fg" # Set default status bar foreground
set -g status-justify "absolute-centre"
set -g status-left-length 100
set -g status-left ""
set -ga status-left "#[bg=$thm_bg,fg=$thm_magenta]  #{pane_current_command} "
set -ga status-left "#[bg=$thm_bg,fg=$thm_gray,none]│"
set -ga status-left "#[bg=$thm_bg,fg=$thm_blue]  #{=/-32/...:#{s|$USER|~|:#{b:pane_current_path}}} "
set -ga status-left "#[bg=$thm_bg,fg=$thm_pink,none]#{?window_zoomed_flag,│,}"
set -ga status-left "#[bg=$thm_bg,fg=$thm_yellow]#{?window_zoomed_flag, ZOOM ,}" # Changed text color to yellow
set -g status-right-length 100
# Adjusted right status section colors for visibility on white background
set -g status-right " #{?client_prefix,#[fg=$thm_red bold]PREFIX ,#{?#{==:#{pane_mode},copy-mode},#[fg=$thm_yellow bold]COPY ,#[fg=$thm_green bold]NORMAL }}" # Colors for modes
set -ga status-right "#[bg=$thm_bg,fg=$thm_gray,none]│"
# Add battery status
set -ga status-right " #[fg=$thm_yellow] #{battery_percentage} " # Yellow battery %
set -ga status-right "#[bg=$thm_bg,fg=$thm_gray,none]│"
# Add time display
set -ga status-right " #[fg=$thm_blue] %H:%M " # Blue time

# Window status - Adjusted for light background
set -g window-status-format " #I#{?#{!=},: #W,} "
set -g window-status-style "bg=$thm_bg,fg=$thm_gray" # Inactive windows: gray text on white bg
set -g window-status-last-style "bg=$thm_bg,fg=$thm_orange" # Last active window: yellow text on white bg
set -g window-status-activity-style "bg=$thm_red,fg=$thm_white,bold" # Activity: white text on red bg
set -g window-status-bell-style "bg=$thm_red,fg=$thm_white,bold" # Bell: white text on red bg
set -gF window-status-separator "#[bg=$thm_bg,fg=$thm_gray]│"
set -g window-status-current-format " #I#{?#{!=},: #W,} "
set -g window-status-current-style "bg=$thm_magenta,fg=$thm_white,bold" # Current window: white text on magenta bg

# Pane border styles
set -g pane-border-style "fg=$thm_gray" # Gray borders
set -g pane-active-border-style "fg=$thm_blue" # Blue active border

# Message styles - Adjusted for light background
set -g message-style "bg=$thm_black,fg=$thm_cyan" # Cyan text on dark gray/black bg
set -g message-command-style "bg=$thm_black,fg=$thm_cyan" # Cyan text on dark gray/black bg

# Selection / Mode style - Adjusted for light background
set -g mode-style "bg=$thm_blue,fg=$thm_white" # White text on blue bg

run "~/.tmux/plugins/tpm/tpm"
